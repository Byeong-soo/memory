
![[Pasted image 20221216075454.png]]


## 부트 레코드(Boot Recort)

- 볼륨의 첫번쨰 섹터이며, 예약된 여역의 첫 번쨰 섹터
- BIOS Parameter Block(BPB) 이라고도 하며, 크기가 1섹터밖에 안되는 작은 영역이지만 FAT 파일 시스템을 인식하는데 가장 중요한 역할을 담당한다.
- 만약 볼륨 내용이 완벽히 살아있어도 부트레크도 섹터의 데이터가 지워지면 해당 볼륨을 인식할 수 없다.

## 예약된 영역

- FAT 16의 경우 1섹터, FAT32 인 경우 32섹터를 할당한다.
- FAT 16의 경우 1섹터 바로 뒤에 FAT 영역이 오며 이 영역은 미래를 위해 예약되어 있는 영역으로 사용하지 않는 영역이다.
- 만약 특별한 정보를 기록 하고 싶은 경우 이 영역에 기록하면 될 것이다. 단 FAT32의 경우 예약된 영역 안에 몇개의 섹터를 사용하여 저장하고 있으므로 겹치지 않게 유의

## FAT #1 영역과 FAT #2 영역

- 클러스터들을 관리하는 테이블이 모여 있는 공간으로 FAT 영역을 통해 어떤 클러스터가 비어있는지, 어떤 파일에 어떤 클러스터가 연결되어 있는지 알 수 있다.
- 이 영역에 손상이 된다면 상당히 위험하며, 백업본을 한개 이상 만들어 두게 해놓았다.
- FAT #1 영역과 #2 영역은 동일한 내용을 담고 있다. FAT #2 영역은 일종의 백업본으로 FAT #1 에 손상이 갔을 경우를 대비해 만들어져 있다.
- FAT 영역은 최소 1개이당 되어야 한다. 보통 2개의 영역을 만든다.

## 루트 디렉토리 영역 (FAT 16만 존재)

- FAT 16에서는 루트 디렉토리의 위치가 무조건 FAT #2 영역 뒤쪽으로 고정되어 있다. ( 크기는 가변적 )
- 이 방식은 루트 디렉토리가 어디에 있는지를 조사할 필요가 없어서 개발의 편의성이 증가하게 되는 장점이 있지만, 루트 디렉토리의 파일 개수 제한 등 단점이 있어서 FAT 32에서는 구조가 바뀌었다.
- FAT 32에서는 루트 디렉토리가 데이터 영역 어디에 와도 상관이 없으며, 단지 극 위치를 부트 레코드에 기록하고 있을 뿐이다. 이 방법의 유일한 단점은 부트 레코드가 망가지면 루트 디렉토리를 찾아내기가 매우 힘들다.
- 따라서 대부분의 FAT코드들이 FAT32인 경우라도 FAT #2 영역 바로 뒤에 로트 디렉토리를 위치시킨다. 따라서 부트 레코드가 망가져서 루트 디렉토리의 위치를 알 수 없게 되어버린 경우에도 간단히 찾을 수 있다.

## 데이터 영역 (파일과 디렉토리)
- 잉역에는 파일 또는 디렉토리가 저장되어 있으며, 클러스터 라고 불리는 논리적인 단위로 읽기/ 쓰기가 된다.


![[Pasted image 20221216075858.png]]
