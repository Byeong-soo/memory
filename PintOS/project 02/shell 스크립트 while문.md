동료들과 얘기하던중에 지금 project3주에 들어왔지만 2주차에 만들었던 syscall 부분에서 syn-read 라는 테스트에서 다들 버그가 발생한다고 했다. 한두번 돌려서는 나오지 않는 버그였고, 계속 반복해서 돌려야했다. 처음에는 수작업으로 돌리고 오류가 발생했는지 확인했지만,,, 너무 반복 작업이라 혹시나 하고 찾아봤더니 shell 에서도 while문을 쓸수 있어서 바로 적용해 봤다.

```
while [조건]
do
	command1
	command2
done
```

형식으로 사용하면 되었다. 커맨드 창에 바로 쳤기 때문에
```
while [ 조건 ]; do command1;command2; done
```
이런 식으로 작성했다.

결과 적으로는 

~~~
while true; do make clean && make tests/filesys/base/syn-read.result VERBOSE=1 | tail -1 >> ../../../result.txt;sleep 5;done
~~~

이런 식으로 작성했다.  여기서 신기했던 점이 >> 를 써서 file에 마지막 줄만 기록되게 해두었는데 그럼 console 창에 출력이 안되고 딱 마지막 줄만 txt 파일에 저장이 되었다.

아마 fd가 1번이 아니라 result.txt 파일로 지정되어서 syscall - write가 파일에 적용된거 같았다. 공부하던 이론이 이렇게 적용되는걸 보니 되게 신기? 했다. 

![[Pasted image 20221201221919.png]]

총 134번 돌렸을때 2번 다운 되었고, 어제 기록은 못했지만 223번 돌렸을때 6번 터졌으니 평균적으로 약 40번에 1번꼴로 터지는거 같다. 특이 케이스에서 문제가 생기는거 같은데... 이번주 과제가 적은양이 아니기 때문에, 이번주 과제를 하다가 문제가 생기면 다시 보는 형식으로 해야겠다.
